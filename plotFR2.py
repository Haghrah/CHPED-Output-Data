import matplotlib.pyplot as plt
from numpy import array

FRA = [[[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[98.8, 0], [81, 104.8], [215, 180], [247, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[44, 0], [44, 15.9], [40, 75], [110.2, 135.6], [125.8, 32.4], [125.8, 0]],
       [[20, 0], [10, 40], [45, 55], [60, 0]],
       [[20, 0], [10, 40], [45, 55], [60, 0]],
       [[20, 0], [10, 40], [45, 55], [60, 0]],
       [[20, 0], [10, 40], [45, 55], [60, 0]],
       [[35, 0], [35, 20], [90, 45], [90, 25], [105, 0]],
       [[35, 0], [35, 20], [90, 45], [90, 25], [105, 0]],
       [[35, 0], [35, 20], [90, 45], [90, 25], [105, 0]],
       [[35, 0], [35, 20], [90, 45], [90, 25], [105, 0]]]






def FRplot(data):
    for PH, FR in zip(data, FRA):
        p = []
        h = []
        for v in FR:
            p.append(v[0])
            h.append(v[1])
        plt.figure()
        plt.plot(p, h, color="b")
        plt.scatter(PH[0], PH[1], color="r")
        plt.legend(["Feasible region", "Generation of plant"])
        plt.title("Feasible region and generation of plant in operation horizon")
        plt.ylim(bottom=0)
        plt.xlim(left=0)
        plt.xlabel("Power generation")
        plt.ylabel("Heat generation")
        plt.grid(True)
        plt.show()
    

datafile = open("2.txt", "r")
data = []
Run = 0
whichRun = input("Please enter the execution index (1 ... 100) to continue:\n")
for i, line in zip(range(9200), datafile):
    if 64 < (i + 1) % 92 < 89:
        P = float(line[line.find(":")+1:line.find("\t")])
        line = line[line.find("\t"):].strip()
        H = float(line[line.find(":")+1:])
        data.append([P, H])
    if (i + 1) % 92 == 89:
        Run += 1
        if int(whichRun) == Run:
            FRplot(data)
        data = []
        
datafile.close()





